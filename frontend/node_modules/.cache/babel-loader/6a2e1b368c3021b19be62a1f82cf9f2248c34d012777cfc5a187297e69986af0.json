{"ast":null,"code":"var _jsxFileName = \"/Users/shubham9162/Desktop/IITR/Stayzo app/stayzo/frontend/src/pages/Listings.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { fetchStays, fetchFoods } from \"../api/api\";\nimport StayCard from \"../components/StayCard\";\nimport FoodCard from \"../components/FoodCard\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Listings = () => {\n  _s();\n  const navigate = useNavigate();\n  const [stays, setStays] = useState([{\n    _id: 1,\n    name: \"Luxury Resort\",\n    image: \"/stay-1.jpg\",\n    location: \"Goa\",\n    price: \"$150/night\"\n  }, {\n    _id: 2,\n    name: \"Cozy Cottage\",\n    image: \"/stay-2.jpg\",\n    location: \"Manali\",\n    price: \"$100/night\"\n  }, {\n    _id: 3,\n    name: \"Beachfront Villa\",\n    image: \"/stay-3.jpg\",\n    location: \"Kerala\",\n    price: \"$200/night\"\n  }, {\n    _id: 4,\n    name: \"Mountain Cabin\",\n    image: \"/stay-4.jpg\",\n    location: \"Shimla\",\n    price: \"$120/night\"\n  }, {\n    _id: 5,\n    name: \"City Apartment\",\n    image: \"/stay-5.jpg\",\n    location: \"Mumbai\",\n    price: \"$180/night\"\n  }]);\n  const [foods, setFoods] = useState([{\n    _id: 1,\n    name: \"Pizza\",\n    image: \"/food-1.jpg\",\n    cuisine: \"Italian\",\n    price: \"$12\"\n  }, {\n    _id: 2,\n    name: \"Sushi\",\n    image: \"/food-2.jpg\",\n    cuisine: \"Japanese\",\n    price: \"$15\"\n  }, {\n    _id: 3,\n    name: \"Biryani\",\n    image: \"/food-3.jpg\",\n    cuisine: \"Indian\",\n    price: \"$10\"\n  }, {\n    _id: 4,\n    name: \"Burger\",\n    image: \"/food-4.jpg\",\n    cuisine: \"American\",\n    price: \"$8\"\n  }, {\n    _id: 5,\n    name: \"Tacos\",\n    image: \"/food-5.jpg\",\n    cuisine: \"Mexican\",\n    price: \"$9\"\n  }]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const staysRes = await fetchStays();\n        const foodsRes = await fetchFoods();\n        if (Array.isArray(staysRes.data)) setStays(staysRes.data);\n        if (Array.isArray(foodsRes.data)) setFoods(foodsRes.data);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load listings.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n  const handleOrderFood = foodId => {\n    if (!foodId) {\n      console.error(\"Food ID is missing!\");\n      return;\n    }\n    navigate(`/food-order/${foodId}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mb-4\",\n      children: \"Stay Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading listings...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-red-500\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: stays.map(stay => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleBooking(stay._id, \"stay\"),\n        className: \"cursor-pointer\",\n        children: /*#__PURE__*/_jsxDEV(StayCard, {\n          stay: stay\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }, this)\n      }, stay._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold mt-6 mb-4\",\n      children: \"Food Listings\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n      children: foods.map(food => /*#__PURE__*/_jsxDEV(\"div\", {\n        onClick: () => handleBooking(food._id, \"food\"),\n        className: \"cursor-pointer\",\n        children: /*#__PURE__*/_jsxDEV(FoodCard, {\n          food: food\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)\n      }, food._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n};\n_s(Listings, \"a59lyPG2eiP6TmsJRf+kxU52Yro=\", false, function () {\n  return [useNavigate];\n});\n_c = Listings;\nexport default Listings;\nvar _c;\n$RefreshReg$(_c, \"Listings\");","map":{"version":3,"names":["useEffect","useState","fetchStays","fetchFoods","StayCard","FoodCard","useNavigate","jsxDEV","_jsxDEV","Listings","_s","navigate","stays","setStays","_id","name","image","location","price","foods","setFoods","cuisine","loading","setLoading","error","setError","fetchData","staysRes","foodsRes","Array","isArray","data","err","console","handleOrderFood","foodId","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","stay","onClick","handleBooking","food","_c","$RefreshReg$"],"sources":["/Users/shubham9162/Desktop/IITR/Stayzo app/stayzo/frontend/src/pages/Listings.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { fetchStays, fetchFoods } from \"../api/api\";\nimport StayCard from \"../components/StayCard\";\nimport FoodCard from \"../components/FoodCard\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst Listings = () => {\n  const navigate = useNavigate();\n\n  const [stays, setStays] = useState([\n    {\n      _id: 1,\n      name: \"Luxury Resort\",\n      image: \"/stay-1.jpg\",\n      location: \"Goa\",\n      price: \"$150/night\",\n    },\n    {\n      _id: 2,\n      name: \"Cozy Cottage\",\n      image: \"/stay-2.jpg\",\n      location: \"Manali\",\n      price: \"$100/night\",\n    },\n    {\n      _id: 3,\n      name: \"Beachfront Villa\",\n      image: \"/stay-3.jpg\",\n      location: \"Kerala\",\n      price: \"$200/night\",\n    },\n    {\n      _id: 4,\n      name: \"Mountain Cabin\",\n      image: \"/stay-4.jpg\",\n      location: \"Shimla\",\n      price: \"$120/night\",\n    },\n    {\n      _id: 5,\n      name: \"City Apartment\",\n      image: \"/stay-5.jpg\",\n      location: \"Mumbai\",\n      price: \"$180/night\",\n    },\n  ]);\n\n  const [foods, setFoods] = useState([\n    {\n      _id: 1,\n      name: \"Pizza\",\n      image: \"/food-1.jpg\",\n      cuisine: \"Italian\",\n      price: \"$12\",\n    },\n    {\n      _id: 2,\n      name: \"Sushi\",\n      image: \"/food-2.jpg\",\n      cuisine: \"Japanese\",\n      price: \"$15\",\n    },\n    {\n      _id: 3,\n      name: \"Biryani\",\n      image: \"/food-3.jpg\",\n      cuisine: \"Indian\",\n      price: \"$10\",\n    },\n    {\n      _id: 4,\n      name: \"Burger\",\n      image: \"/food-4.jpg\",\n      cuisine: \"American\",\n      price: \"$8\",\n    },\n    {\n      _id: 5,\n      name: \"Tacos\",\n      image: \"/food-5.jpg\",\n      cuisine: \"Mexican\",\n      price: \"$9\",\n    },\n  ]);\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const staysRes = await fetchStays();\n        const foodsRes = await fetchFoods();\n\n        if (Array.isArray(staysRes.data)) setStays(staysRes.data);\n        if (Array.isArray(foodsRes.data)) setFoods(foodsRes.data);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load listings.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const handleOrderFood = (foodId) => {\n    if (!foodId) {\n      console.error(\"Food ID is missing!\");\n      return;\n    }\n    navigate(`/food-order/${foodId}`);\n  };\n\n  return (\n    <div className=\"p-6\">\n      <h2 className=\"text-2xl font-bold mb-4\">Stay Listings</h2>\n\n      {loading && <p>Loading listings...</p>}\n      {error && <p className=\"text-red-500\">{error}</p>}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {stays.map((stay) => (\n          <div\n            key={stay._id}\n            onClick={() => handleBooking(stay._id, \"stay\")}\n            className=\"cursor-pointer\"\n          >\n            <StayCard stay={stay} />\n          </div>\n        ))}\n      </div>\n\n      <h2 className=\"text-2xl font-bold mt-6 mb-4\">Food Listings</h2>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {foods.map((food) => (\n          <div\n            key={food._id}\n            onClick={() => handleBooking(food._id, \"food\")}\n            className=\"cursor-pointer\"\n          >\n            <FoodCard food={food} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Listings;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}